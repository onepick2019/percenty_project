# 휴먼딜레이 적용 현황 및 타임아웃 조정

## 휴먼딜레이 적용 단계별 현황

### 단계 1 (step1_core.py)
- **휴먼딜레이 설정**: 45-60초 (min_total_delay=45, max_total_delay=60)
- **기존 타임아웃**: 135초 (2.25분/아이템)
- **조정된 타임아웃**: 195초 (3.25분/아이템)
- **조정 사유**: 휴먼딜레이 60초 + 기본 처리시간을 고려하여 60초 증가

### 단계 4 (번역 처리)
- **휴먼딜레이 설정**: 미적용
- **타임아웃**: 135초 (2.25분/아이템) - 변경 없음

### 단계 21, 22, 23 (서버 처리 단계)
- **휴먼딜레이 설정**: 미적용
- **타임아웃**: 270초 (4.5분/아이템) - 변경 없음

### 단계 31, 32, 33 (키워드 검색 단계)
- **휴먼딜레이 설정**: 미적용
- **타임아웃**: 540초 (9분/아이템) - 변경 없음

### 단계 51 (step5_1_core.py)
- **휴먼딜레이 설정**: 152-160초 (min_total_delay=152, max_total_delay=160)
- **기존 타임아웃**: 135초 (2.25분/아이템)
- **조정된 타임아웃**: 285초 (4.75분/아이템)
- **조정 사유**: 휴먼딜레이 160초 + 기본 처리시간을 고려하여 150초 증가

### 단계 52 (step5_2_core.py)
- **휴먼딜레이 설정**: 152-170초 (min_total_delay=152, max_total_delay=170)
- **기존 타임아웃**: 135초 (2.25분/아이템)
- **조정된 타임아웃**: 315초 (5.25분/아이템)
- **조정 사유**: 휴먼딜레이 170초 + 기본 처리시간을 고려하여 180초 증가

### 단계 53 (step5_3_core.py)
- **휴먼딜레이 설정**: 152-180초 (min_total_delay=152, max_total_delay=180)
- **기존 타임아웃**: 135초 (2.25분/아이템)
- **조정된 타임아웃**: 345초 (5.75분/아이템)
- **조정 사유**: 휴먼딜레이 180초 + 기본 처리시간을 고려하여 210초 증가

## 추가 휴먼딜레이 적용 파일들

### product_editor_core5_x.py 시리즈
- **전체 작업 휴먼딜레이**: 152-180초
- **세부 작업별 휴먼딜레이**: 1-4초 범위의 다양한 지연
- **적용 위치**: 옵션 탭, AI 처리, 가격 탭, 할인율, 썸네일 탭 등

### image_translation_handler 시리즈
- **짧은 지연**: 0.5-1.5초
- **중간 지연**: 1.0-3.0초
- **긴 지연**: 2.0-5.0초
- **사용자 정의 지연**: 다양한 범위

### batch_processor.py
- **기본 휴먼딜레이**: 45-60초
- **세부 작업 지연**: 3-6초

## 타임아웃 계산 공식

```
청크 타임아웃 = (청크 크기 × 아이템당 시간) + 오버헤드(300초)
최소 타임아웃: 600초 (10분)
최대 타임아웃: 7200초 (2시간)
```

## 조정 효과

### 단계 51 예시 (청크 크기 5)
- **기존**: 5 × 135초 + 300초 = 975초
- **조정 후**: 5 × 285초 + 300초 = 1725초
- **증가**: 750초 (12.5분) 추가 여유시간 확보

### 단계 53 예시 (청크 크기 5)
- **기존**: 5 × 135초 + 300초 = 975초
- **조정 후**: 5 × 345초 + 300초 = 2025초
- **증가**: 1050초 (17.5분) 추가 여유시간 확보

## 결론

휴먼딜레이가 적용된 단계들(1, 51, 52, 53)의 타임아웃을 대폭 증가시켜 실제 실행 시간과 타임아웃 설정 간의 불일치를 해결했습니다. 이로 인해 타임아웃으로 인한 작업 중단 없이 안정적인 주기적 실행이 가능해집니다.