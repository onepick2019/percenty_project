(()=>{"use strict";var _={7271:function(_,E,T){var R,A;T.d(E,{C:function(){return R}}),(A=R||(R={})).POST_SLACK_ERROR_WEBHOOK="POST_SLACK_ERROR_WEBHOOK",A.TO_OFFSCREEN_DEFAULT_INJECT_DATA="TO_OFFSCREEN_DEFAULT_INJECT_DATA",A.TO_OFFSCREEN_TAOBAO_SCRAP="TO_OFFSCREEN_TAOBAO_SCRAP",A.TO_OFFSCREEN_TMALL_SCRAP="TO_OFFSCREEN_TMALL_SCRAP",A.TO_OFFSCREEN_GET_IDLE_TIME="TO_OFFSCREEN_GET_IDLE_TIME",A.TO_OFFSCREEN_GET_NAVER_SHOPPING_KEYWORD="TO_OFFSCREEN_GET_NAVER_SHOPPING_KEYWORD",A.TO_BACKGROUND_ENSURE_OFFSCREEN="TO_BACKGROUND_ENSURE_OFFSCREEN",A.TO_CONTENT_SCRAP_AUTO_BY_URL="TO_CONTENT_SCRAP_AUTO_BY_URL",A.TO_BACKGROUND_SET_1688_QUERY="TO_BACKGROUND_SET_1688_QUERY",A.GET_PERCENTY_TOKEN="GET_PERCENTY_TOKEN",A.INJECT_RESULT="INJECT_RESULT",A.OPEN_TAB_AND_SCRAP="OPEN_TAB_AND_SCRAP",A.OPEN_TAB_AND_SCRAP_FINISH="OPEN_TAB_AND_SCRAP_FINISH",A.SCRAP_AUTO="SCRAP_AUTO",A.SCRAP_AUTO_FINISH="SCRAP_AUTO_FINISH",A.SCRAP_AUTO_FINISH_TO_LIST_PAGE="SCRAP_AUTO_FINISH_TO_LIST_PAGE",A.OPEN_PERCENTY_TAB="OPEN_PERCENTY_TAB",A.GET_CURRENT_TAB_ID_FROM_CONTENTS_SCRIPT="GET_CURRENT_TAB_ID_FROM_CONTENTS_SCRIPT",A.CLOSE_TAB="CLOSE_TAB",A.SCRAP_SUCCESS_TO_PERCENTY_WEB="SCRAP_SUCCESS_TO_PERCENTY_WEB",A.SCRAP_SUCCESS_TO_PERCENTY_WEB_TAB="SCRAP_SUCCESS_TO_PERCENTY_WEB_TAB",A.EXTENSION_INSTALLED_TO_PERCENTY_WEB_TAB="EXTENSION_INSTALLED_TO_PERCENTY_WEB_TAB",A.FETCH_RAW="FETCH_RAW",A.GET_NAVER_SHOPPING_LENS="GET_NAVER_SHOPPING_LENS",A.IMG_SEARCH="IMG_SEARCH",A.IMG_SEARCH_TAB="IMG_SEARCH_TAB",A.IMG_SEARCH_RESULT="IMG_SEARCH_RESULT",A.IMAGE_SEARCH_POSITION="IMAGE_SEARCH_POSITION",A.IMAGE_SEARCH_BTN_POSITION="IMAGE_SEARCH_BTN_POSITION",A.IMAGE_SEARCH_RESULT="IMAGE_SEARCH_RESULT",A.IMAGE_SEARCH_MODAL_OPEN="IMAGE_SEARCH_MODAL_OPEN",A.UPDATE_DECLARATIVE_NET_REQUEST_RULES="UPDATE_DECLARATIVE_NET_REQUEST_RULES",A.GET_SHEIN_THUMBNAIL_IMGS="GET_SHEIN_THUMBNAIL_IMGS",A.GET_IMG_BLOB_URL="GET_IMG_BLOB_URL",A.TO_DELETE_COOKIES="TO_DELETE_COOKIES",A.GET_REACT_FIBER_PRODUCT_DATA="GET_REACT_FIBER_PRODUCT_DATA",A.TO_CONTENT_SCRAP_IMAGES_BLOB_BY_URL_REQUEST="TO_CONTENT_SCRAP_IMAGES_BLOB_BY_URL_REQUEST",A.TO_CONTENT_SCRAP_IMAGES_BLOB_BY_URL_RESPONSE="TO_CONTENT_SCRAP_IMAGES_BLOB_BY_URL_RESPONSE",A.TO_CONTENT_SET_SCRAP_PARAMS="TO_CONTENT_SET_SCRAP_PARAMS",A.HEALTH_CHECK="HEALTH_CHECK",A.OPEN_SMART_STORE_LOGIN_EXTERNAL="OPEN_SMART_STORE_LOGIN_EXTERNAL",A.UPLOAD_SMART_STORE_EXTERNAL="UPLOAD_SMART_STORE_EXTERNAL",A.EDIT_SMART_STORE_EXTERNAL="EDIT_SMART_STORE_EXTERNAL",A.GET_CURRENT_LOGGED_IN_SMART_STORE_CHANNEL_EXTERNAL="GET_CURRENT_LOGGED_IN_SMART_STORE_CHANNEL_EXTERNAL",A.GET_CHROME_EXTENSION_VERSION_EXTERNAL="GET_CHROME_EXTENSION_VERSION_EXTERNAL",A.DELETE_SMART_STORE_PRODUCT_EXTERNAL="DELETE_SMART_STORE_PRODUCT_EXTERNAL",A.UPDATE_SMART_STORE_PRODUCT_STATE_EXTERNAL="UPDATE_SMART_STORE_PRODUCT_STATE_EXTERNAL",A.GET_SMART_STORE_PRODUCT_EXTERNAL="GET_SMART_STORE_PRODUCT_EXTERNAL",A.FETCH_RAW_EXTERNAL="FETCH_RAW_EXTERNAL",A.UPDATE_DECLARATIVE_NET_REQUEST_RULES_EXTERNAL="UPDATE_DECLARATIVE_NET_REQUEST_RULES_EXTERNAL",A.GET_DECLARATIVE_NET_REQUEST_RULES_EXTERNAL="GET_DECLARATIVE_NET_REQUEST_RULES_EXTERNAL",A.SCRAP_START_EXTERNAL="SCRAP_START_EXTERNAL",A.REQUEST_AI_SOURCING="REQUEST_AI_SOURCING",A.REQUEST_NAVER_SHOPPING_POPULAR_TERMS="REQUEST_NAVER_SHOPPING_POPULAR_TERMS",A.REQUEST_TAOBAO_IMG_SEARCH_EXTERNAL="REQUEST_TAOBAO_IMG_SEARCH_EXTERNAL",A.REFRESH_OFFSCREEN_DOCUMENT_IF_NEED="REFRESH_OFFSCREEN_DOCUMENT_IF_NEED",A.GET_IMAGES_FROM_URL="GET_IMAGES_FROM_URL",A.OPEN_TAB_WITH_SCRAP_PARAMS_EXTERNAL="OPEN_TAB_WITH_SCRAP_PARAMS_EXTERNAL",A.SCRAP_SUCCESS_FROM_EXT="SCRAP_SUCCESS_FROM_EXT",A.CHROME_EXTENSION_INSTALLED_FROM_EXT="CHROME_EXTENSION_INSTALLED_FROM_EXT",A.NAVER_SHOPPING_LENS_FROM_EXT="NAVER_SHOPPING_LENS_FROM_EXT",A.CLEAR_CHROME_EXTENSION_STORAGE="CLEAR_CHROME_EXTENSION_STORAGE",A.OPEN_FROM_MARKET_TAB="OPEN_FROM_MARKET_TAB",A.HIGHLIGHT_OPTION="HIGHLIGHT_OPTION",A.GET_SMARTSTORE_PRODUCT_KEYWORDS="GET_SMARTSTORE_PRODUCT_KEYWORDS",A.GET_RECOMMEND_PRODUCT_NAME="GET_RECOMMEND_PRODUCT_NAME"},6651:function(_,E,T){T.d(E,{Z:function(){return R}});let R={delay:function(_){return new Promise((E,T)=>{setTimeout(()=>{E()},_)})},debounce:function(_,E){let T;return R=>{clearTimeout(T),T=setTimeout(()=>{_(R)},E)}},throttle:function(_,E){let T=!1;return R=>{!T&&(_(R),T=!0,setTimeout(()=>{T=!1},E))}},startInterval:function(_,E){let T=0,R=setInterval(()=>{!_(++T)&&clearInterval(R)},E)},startIntervalAsync:function(_,E){let T=[],R=0,A=async()=>{try{await _(++R)?T.push(setTimeout(A,E)):T.forEach(_=>clearTimeout(_))}catch(_){T.forEach(_=>clearTimeout(_)),console.error(_)}};A()},waitForInterval:function(_,E){let T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return new Promise(R=>{let A=0,S=setInterval(()=>{let E=_();(++A>=T||E)&&(clearInterval(S),R())},E)})}}}},E={};function T(R){var A=E[R];if(void 0!==A)return A.exports;var S=E[R]={exports:{}};return _[R](S,S.exports,T),S.exports}T.d=function(_,E){for(var R in E)T.o(E,R)&&!T.o(_,R)&&Object.defineProperty(_,R,{enumerable:!0,get:E[R]})},T.o=function(_,E){return Object.prototype.hasOwnProperty.call(_,E)},T.nc=void 0,T.rv=function(){return"1.0.0-beta.3"},T.ruid="bundler=rspack@1.0.0-beta.3";T.nc="CSP_NONCE_PLACEHOLDER",(()=>{var _=T(6651),E=T(7271);let R=[{querySelectorContainer:"feedsList",querySelectorItem:"goodsItem",url:"https://i.taobao.com/my_itaobao/itao-tool/collect"}],A=Object.freeze({PRODUCT_ID:"percenty-itemUrl",PRODUCT_PICTURE_URL:"percenty-itemPic",PRODUCT_DETAIL_URL:"percenty-id"}),S=async E=>{for(let T=0;T<20;T++)for(let{querySelectorContainer:T,querySelectorItem:A,url:S}of R)if(T&&T&&S){if(E.querySelectorAll("[class^='".concat(T,"']"))&&E.querySelectorAll("[class^='".concat(T,"']")).length>0)return{querySelectorContainer:T,querySelectorItem:A,url:S};await _.Z.delay(100)}return{querySelectorContainer:"",querySelectorItem:"",url:""}};async function O(){let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,E=await S(_),T={};for(let R of _.querySelectorAll("[class^='".concat(E.querySelectorItem,"']"))){let _=Object.keys(R).find(_=>_.startsWith("__reactFiber"));if(_){let E=null==R?void 0:R[_];try{let{itemUrl:_,pic:S,id:O}=E.return.memoizedProps;if(!_||!S||!O){console.error("itemUrl extraction failed:",_,S,O);continue}R.setAttribute(A.PRODUCT_DETAIL_URL,_),R.setAttribute(A.PRODUCT_PICTURE_URL,S),R.setAttribute(A.PRODUCT_ID,O),T[O]={itemUrl:_,itemPic:S,id:O}}catch(_){console.error("itemUrl extraction failed:",_)}}}return T}(async function _(){window.postMessage({type:E.C.GET_REACT_FIBER_PRODUCT_DATA,data:await O()},"*")})()})()})();